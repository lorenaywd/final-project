{% extends 'base.html.twig' %}

{% block title %}Devis{% endblock %}

{% block body %}
<section class='home'>
    <div class='text'>
    {# <div class="container" style="padding-top: 100px; margin-left: 300px"> #}
        <div>
            <div class="row gutters-sm">
                <div class="col-md-4 mb-3 pt-5">
                    <div class="card">
                        <div class="card-body">
                            <div class="d-flex flex-column align-items-center text-center">
                                <h4>{{ devi.id }}</h4>
                                <div class="mt-3">
                                    <p class="text-secondary mb-1">Créé le :</p>
                                    <p class="text-muted font-size-sm">{{ devi.createdAt ? devi.createdAt|date('d-m-Y H:i:s') : '' }}</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-8 pt-5">
                    <div class="card mb-3 ">
                        <div class="card-body">
                            <div class="row">
                                <div class="col-sm-3">
                                    <h6 class="mb-0">ID</h6>
                                </div>
                                <div class="col-sm-9 text-secondary">
                                    {{ devi.id }}
                                </div>
                            </div>
                            <hr>
                            <div class="row">
                                <div class="col-sm-3">
                                    <h6 class="mb-0">Nom</h6>
                                </div>
                                <div class="col-sm-9 text-secondary">
                                    {{ devi.lastname }}
                                </div>
                            </div>
                            <hr>
                            <div class="row">
                                <div class="col-sm-3">
                                    <h6 class="mb-0">Prenom</h6>
                                </div>
                                <div class="col-sm-9 text-secondary">
                                    {{ devi.firstname }}
                                </div>
                            </div>
                            <hr>
                            <div class="row">
                                <div class="col-sm-3">
                                    <h6 class="mb-0">Tarif</h6>
                                </div>
                                <div class="col-sm-9 text-secondary">
                                    {{ devi.tarifCustom }}€
                                </div>
                            </div>
                            <hr>
                            <div class="row">
                                <div class="col-sm-3">
                                    <h6 class="mb-0">Commentaires</h6>
                                </div>
                                <div class="col-sm-9 text-secondary">
                                    {{ devi.comment }}
                                </div>
                            </div>
                            <hr>    
                            <div class="row">
                                <div class="col-sm-3">
                                    <h6 class="mb-0">Statut</h6>
                                </div>
                                <div class="col-sm-9 text-secondary">
                                    {{ devi.status ? 'Yes' : 'No' }}
                                </div>
                            </div>      
                                    {% if devi.imageObject %}
                                    <hr>
                                    <div class="row">
                                    <div class="col-sm-3">
                                        <h6 class="mb-0">Image_object</h6>
                                    </div>
                                    <div class="col-sm-9 text-secondary">
                                    <div id="imageContainer" style="cursor: pointer;">Cliquez pour agrandir l'image</div>
                                    <script>
                                        document.getElementById("imageContainer").addEventListener("click", function() {
                                            var imageUrl = "{{ asset(devi.imageObject) }}";
                                            var enlargedImage = document.createElement("img");
                                            enlargedImage.src = imageUrl;
                                            enlargedImage.alt = "Image agrandie";
                                            enlargedImage.style.maxWidth = "100%";
                                            var overlay = document.createElement("div");
                                            overlay.style.position = "fixed";
                                            overlay.style.top = "0";
                                            overlay.style.left = "0";
                                            overlay.style.width = "100%";
                                            overlay.style.height = "100%";
                                            overlay.style.backgroundColor = "rgba(0, 0, 0, 0.7)";
                                            overlay.style.display = "flex";
                                            overlay.style.justifyContent = "center";
                                            overlay.style.alignItems = "center";
                                            overlay.appendChild(enlargedImage);
                                            document.body.appendChild(overlay);
                                            overlay.addEventListener("click", function() {
                                                document.body.removeChild(overlay);
                                            });
                                        });
                                    </script>
                                </div>
                                 {% endif %}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <a href="{{ path('app_devis_index') }}" class= "retour">← Retour à la liste</a>
        </div>
    {# </div> #}
    </div>
</section>
{% endblock %}
